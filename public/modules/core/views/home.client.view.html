<section data-ng-controller="HomeController">

	<!-- Task list and Form Area -->
	<div data-ng-controller="TasksController">
	<div flip class="task" data-click-toggle="true" >
      <div class='front task_list'  >
          <section  data-ng-init="">
							<div class="page-header">
									<h1>Tasks</h1>
							</div>
							<div class="list-group">
									<a data-ng-repeat="task in tasks" class="list-group-item">
											<small class="list-group-item-text">
											Posted on
													<span data-ng-bind="task.created | date:'medium'"></span>
											by
													<span data-ng-bind="task.user.displayName"></span>
											</small>
									<h4 class="list-group-item-heading" data-ng-bind="task.name"></h4>
									<button class="btn btn-primary btn-xs" name="item_detail" ng-click="setCurrentTask(task)">Details</button>
								</a>
							</div>
							<div class="alert alert-warning text-center" data-ng-hide="!tasks.$resolved || tasks.length">
								No Tasks yet, why don't you add one?
							</div>
					</section>
					<button class="btn btn-default" name="add_task" ng-click="flip()">Add Task</button>
      </div>
    <div class="back task_form" >
          <form class="form-horizontal" data-ng-submit="create()" novalidate>
							<fieldset>
									<div class="form-group">
											<label class="control-label" for="name">Task Name</label>
											<div class="controls">
													<input type="text" data-ng-model="task.name" id="name" class="form-control" placeholder="Task Name" required>
											</div>
											<label class="control-label" for="name">Task Description</label>
											<div class="controls">
													<input type="text" data-ng-model="task.description" id="description" class="form-control" placeholder="Description" required>
											</div>
											<label class="control-label" for="name">Task Reward</label>
											<div class="controls">
													<input type="text" data-ng-model="task.reward.rewards" id="reward" class="form-control" placeholder="Reward" required>
											</div>
									</div>
									<div class="form-group">
											<input type="submit" class="btn btn-default" >
											<button class="btn btn-danger" name="cancel" ng-click="flip()">Cancel</button>
									</div>
					<div data-ng-show="error" class="text-danger">
						<strong data-ng-bind="error"></strong>
					</div>
							</fieldset>
					</form>
      </div>

</div>

<!-- Task Detail Section -->
<div reflip class='task_detail' ng-show="currentTask">
	<div data-click-toggle="true" >
			<div class="page-header front task-detail">
				<h1 data-ng-bind="currentTask.name"></h1>
				<h4 data-ng-bind="currentTask.description"></h4>
				<h4 data-ng-bind="currentTask.reward.rewards"></h4>
			<div class="pull-right" data-ng-show="authentication.user._id == currentTask.user._id">
					<a class="btn btn-primary" ng-click="reflip()">
						<i class="glyphicon glyphicon-edit"></i>
					</a>
					<a class="btn btn-primary" data-ng-click="remove();">
						<i class="glyphicon glyphicon-trash"></i>
					</a>
			</div>
				<small>
					<em class="text-muted">
						Posted on
						<span data-ng-bind="currentTask.created | date:'mediumDate'"></span>
						by
						<span data-ng-bind="currentTask.user.displayName"></span>
					</em>
				</small>
			</div>
			<div class="back task_edit ">
					<form class="form-horizontal" data-ng-submit="update()" novalidate>
							<fieldset>
									<div class="form-group">
											<label class="control-label" for="name">Task Name</label>
											<div class="controls">
													<input type="text" data-ng-model="task.name" id="name" class="form-control" placeholder="Task Name" required>
											</div>
											<label class="control-label" for="name">Task Description</label>
											<div class="controls">
													<input type="text" data-ng-model="task.description" id="description" class="form-control" placeholder="Description" required>
											</div>
											<label class="control-label" for="name">Task Reward</label>
											<div class="controls">
													<input type="text" data-ng-model="task.reward.rewards" id="reward" class="form-control" placeholder="Reward" required>
											</div>
									</div>
									<div class="form-group">
											<input type="submit" value="Update" class="btn btn-default">
									</div>
									<div data-ng-show="error" class="text-danger">
										<strong data-ng-bind="error"></strong>
									</div>
							</fieldset>
					</form>
			</div>

		</div>

	</div>
</div>


</section>
